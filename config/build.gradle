apply plugin: 'org.springframework.boot'

dependencies (LIBS.sqlite)
dependencies (LIBS.shared)
dependencies (LIBS.springboot)

jar {
  manifest {
      attributes 'Implementation-Title': 'Raspberry Pi/Docker Config',
                 'Implementation-Version': version,
                 'Main-Class': 'net.nuttle.rpilab.config.app.ConfigApp'
  }
}

task fatJar(type: Jar) {
  manifest {
      attributes 'Implementation-Title': 'Raspberry Pi/Docker Configuration',
          'Implementation-Version': version,
          'Main-Class': 'net.nuttle.rpilab.config.app.ConfigApp'
  }
  baseName = project.name + '-all'
  from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
  with jar
}
